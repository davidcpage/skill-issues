{"id":"dp-s001","date":"2025-12-13","topic":"beads-review","learnings":["Beads solves agent amnesia with git-backed JSONL + SQLite cache pattern","Core query is 'bd ready' - find unblocked work for session startup","JSONL format (one line per entity) enables clean git diffs and auto-merges","Hash-based IDs (bd-a1b2) prevent merge conflicts vs sequential IDs","Daemon architecture may be over-engineered - git hooks could suffice for most cases","Four dependency types: blocks (essential), parent-child (useful), related/discovered-from (nice-to-have)","Minimum viable agent memory: append-only JSONL + jq queries + git hooks"],"open_questions":["How well does this scale with multiple concurrent agents?","Is the compaction/memory-decay feature actually used in practice?","Would a simpler approach (just JSONL, no SQLite) work for most projects?"],"next_actions":["Consider implementing minimal JSONL-based memory for own workflows","Explore the 'town' multi-agent orchestration system referenced in their CLAUDE.md","Test beads on a real project to validate the workflow"],"user":"dp"}
{"id":"dp-s002","date":"2025-12-13","topic":"session-startup-mechanism","learnings":["Beads has NO automatic session startup - relies on passive CLAUDE.md instructions","Four documentation layers cause confusion: CLAUDE.md (town system), AGENTS.md (comprehensive), BD_GUIDE.md (auto-generated), copilot-instructions.md","beads/CLAUDE.md is for 'town' multi-agent orchestration, NOT a template for users","bd init --stealth injects prompt into .claude/settings.local.json hoping Claude runs bd onboard","Git hooks (pre-commit, post-merge) handle data sync but NOT session startup","Claude Code hooks (.claude/hooks/) could solve this but beads doesn't use them","No SessionStart hook exists in Claude Code - this is an ecosystem gap","Session startup is fundamentally unsolved in AI coding agent ecosystem"],"open_questions":["Could Claude Code add a SessionStart hook event?","Is there a way to make CLAUDE.md instructions more reliably executed?","How do other AI coding tools (Cursor, Windsurf) handle session continuity?"],"next_actions":["File feature request for Claude Code SessionStart hook","Document the 'user prompt convention' workaround (always start with 'load context')","Consider building a minimal session-aware wrapper around Claude Code"],"user":"dp"}
{"id":"dp-s003","date":"2025-12-13","topic":"minimal-issue-tracking","learnings":["BD_GUIDE.md is auto-generated by 'bd onboard --output' - combines agentsContent + copilotInstructionsContent from onboard.go","AGENTS.md serves dual purpose: beads dev guide AND user reference - causes confusion","Separating tool instructions (skill) from project instructions (AGENTS.md) is cleaner","jq CAN do dependency tracking: get closed IDs, filter open issues where all blockers IN closed set","jq syntax: all(IN($closed[])) checks if all blockers are in the closed set","Minimal viable issue tracker: just JSONL + jq + Claude reasoning - no daemon/DB needed","Claude Code skills (.claude/skills/*.md) are natural home for tool instructions","For small codebases with close human-AI collaboration, Claude IS the tool - can reason about deps directly"],"open_questions":["How well does pure jq scale before needing a CLI helper?","Should issues link to session IDs and vice versa?","What's the right trigger for 'check ready work' at session start?"],"next_actions":["Update CLAUDE.md to reference .issues/ system","Try the system for real work and note friction points","Consider tiny Python CLI if jq gets painful"],"user":"dp"}
{"id":"dp-s004","date":"2025-12-13","topic":"jq-permissions-and-workflow","learnings":["Bash(jq:*) permission DOES work for jq reads - issue was shell operators in writes","Shell operators (>, &&, |) are NOT covered by Bash(cmd:*) patterns - they're shell syntax not command args","Ideal split: jq for all reads (pre-approved), Edit tool for all writes (no permission needed)","jq writes require temp file dance (jq > tmp && mv tmp target) which needs shell operator permissions","Edit tool is actually better for JSONL writes anyway - visible diffs, atomic, undo-able","Aliases for common jq patterns not needed at small scale (<30 issues) - YAGNI","Issue tracking workflow validated: created 8 issues, closed 7, system works smoothly","The friction we hit led to a better design than pure jq would have been"],"open_questions":["At what issue count does filtered jq become essential vs reading full file?","Should the skill include ready-made jq snippets for common queries?"],"next_actions":["Use the system for real work on other projects","Consider issue 005 (session-issue linking) if cross-referencing becomes valuable","Monitor if jq query patterns become repetitive enough to warrant aliases"],"user":"dp"}
{"id":"dp-s005","date":"2025-12-13","topic":"append-only-issue-tracker","learnings":["Append-only event logs are simpler than mutable records - writes are just appends, no read-modify-write","Two event types suffice: created (immutable fields) and closed (terminal) - no updated needed","Immutability forces clean thinking - if wrong, close and recreate rather than patch","Python is plenty fast for filtering (<100ms for 10k issues) - Go unnecessary at this scale","Single-pass filtering (open/ready) is cheap; Claude handles semantic reasoning on small result sets","Git diffs become trivially clean with append-only - always additions at end of file","echo append is simpler than Edit tool for append-only writes"],"open_questions":["Should we add commented event type for notes/discussion?","At what scale would we need indexes or caching?","Is session-issue linking (005) worth implementing?"],"next_actions":["Use the new system for real work","Consider issue 005 if cross-referencing becomes valuable","Monitor if additional event types become needed"],"user":"dp"}
{"id":"dp-s006","date":"2025-12-13","topic":"session-issue-linking","learnings":["Beads has no formal session tracking - our sessions concept is our own invention","Beads cross-session continuity relies on self-contained issues with detailed implementation notes","Bidirectional linking implemented: issues have optional session field, sessions have issues_worked array","Use Edit tool for appending to avoid shell permission prompts (echo >> triggers approval)","Don't create issues for immediate fixes - that's overhead for no benefit","Sessions and issues may serve distinct purposes: issues=work items, sessions=learnings/context"],"open_questions":["Should issues_worked split into issues_created/closed/worked for granularity?","Are sessions and issues overcomplicating - should they merge?","Is Python session query tooling needed or are jq queries sufficient?"],"next_actions":["Use linking in practice to validate the design","Evaluate design questions (015, 016) when pain points emerge","Build session tooling (014) if jq queries become insufficient"],"issues_worked":["dp-005","dp-014","dp-015","dp-016"],"user":"dp"}
{"id":"dp-s007","date":"2025-12-13","topic":"note-events","learnings":["Beads uses detailed structured descriptions in issues (## Task, ## Problem, ## Fix sections) for cross-session continuity","Note events fit append-only philosophy perfectly - add context without mutating original issue","Simple content field is enough - no need for note_type or structure, Claude handles free-form text","Note use cases: user context at start, implementation discoveries, decisions, blockers/workarounds","Notes array on issues provides temporal history of how understanding evolved","Eating our own dogfood: used note event on issue 017 while implementing it"],"open_questions":["Should notes support optional session field for tracking which session added context?","Would structured note types (decision, blocker, discovery) add value or just overhead?"],"next_actions":["Use note events in practice to validate the design","Consider session field on notes if attribution becomes valuable"],"issues_worked":["dp-017"],"user":"dp"}
{"id":"dp-s008","date":"2025-12-13","topic":"sessions-vs-issues-decision","learnings":["Sessions and issues track orthogonal dimensions: time (conversation) vs work (task lifecycle)","A session may touch multiple issues; an issue may span multiple sessions","Learnings don't fit in issues - they're meta-knowledge not actionable work","Open questions aren't always issues - some are exploratory, not committed work","Bidirectional linking (issues_worked, session field) connects orthogonal systems without conflating them","Design decisions worth preserving belong in .decisions/ directory with numbered markdown files","Reference decision docs from issue closure reasons for traceability"],"open_questions":[],"next_actions":["Use .decisions/ pattern for future architectural decisions","Monitor if 014 (session tooling) or 015 (field granularity) become needed"],"issues_worked":["dp-016"],"user":"dp"}
{"id":"dp-s009","date":"2025-12-13","topic":"skill-architecture-and-portability","learnings":["Issues are multi-user (git-synced), sessions are single-user (personal) - one-way dependency makes sense","Sessions should reference issues, but issues should NOT reference sessions (avoids orphan refs when syncing)","Skills should use directory pattern (.claude/skills/foo/SKILL.md + tools) for portability","Tool scripts should live with their skill so they travel together when copying to new repos","Data files (.issues/events.jsonl, .memory/sessions.jsonl) stay project-side, not in skill directory","Updated event type enables priority changes without close/recreate - include reason field for traceability","Decision docs can evolve with 'Evolution' sections rather than rewriting history"],"open_questions":[],"next_actions":["Implement sessions.py (issue 014, now priority 1)","Implement auto-initialization (issue 021)","Evaluate issues_worked granularity (issue 015) if needed"],"issues_worked":["dp-018","dp-019","dp-020","dp-021","dp-022","dp-014"],"user":"dp"}
{"id":"dp-s010","date":"2025-12-14","topic":"sessions-tooling-and-github-compatibility","learnings":["Claude Code stores full session logs in ~/.claude/projects/{project-path}/{uuid}.jsonl - but timestamp + topic sufficient to locate, no need to store UUIDs in session summaries","sessions.py provides cleaner interface than jq queries - default to last session, supports --recent, --issue, --topic, --open-questions, --next-actions","Auto-initialization in tools (create dir/file if missing) makes skills portable without manual setup","Issues skill framing: 'GitHub Issues but local' - familiar semantics, optimized for Claude Code (local-first, append-only, AI-native)","When designing for compatibility, stay close to established semantics so mental models transfer"],"open_questions":[],"next_actions":["Evaluate issues_worked granularity (issue 015) if needed","Implement GitHub Issues compatibility when needed (issue 023)"],"issues_worked":["dp-014","dp-021","dp-023"],"user":"dp"}
{"id":"dp-s011","date":"2025-12-14","topic":"ai-agent-protocol-fitness","learnings":["LLMs have extensive training data on GitHub Issues - format/conventions are deeply familiar","GitHub Issues compatibility is 'protocol fitness': optimized for both human familiarity AND AI effectiveness","AI agents already know conventions: issue titles, labels, 'Fixes #123', task lists, @mentions, comment structure","Leveraging familiar formats reduces AI learning curve to zero - statistical prior does the work"],"open_questions":[],"next_actions":["Continue using GitHub-compatible patterns in issues skill"],"issues_worked":[],"user":"dp"}
{"id":"dp-s012","date":"2025-12-14","topic":"protocol-fitness-deep-dive","learnings":["Protocol fitness may make issue tracking EASIER for LLMs than TodoWrite - richer patterns with stronger priors","Relation types (blocking, parent/child vs relates-to) may reflect training data priors not just design choices","GitHub task list syntax (- [ ] item) is highly recognizable and could boost protocol fitness","Branching workflow: yolo on main for simple issues, branch for complex (children/blocking) is pragmatic middle ground","Design docs benefit from protocol fitness too - PEP/RFC/ADR patterns are extensively in training data","Light PEP-style conventions (Status, standard sections) give protocol fitness without bureaucracy","Proactive issue logging should be a core principle - capture problems when context is fresh","sessions.py --last N failed silently because flag is --recent N - unknown flags should warn or have --help"],"open_questions":["How can we measure protocol fitness effect empirically?","Is exact field naming (GitHub's terms) worth adopting?","What existing local-first issue trackers or Claude Code skills exist?"],"next_actions":["Fix sessions.py --last alias and --help (issue 030)","Research existing tools (issue 028)","Audit issues skill against GitHub Issues (issue 024)"],"issues_worked":["dp-024","dp-025","dp-026","dp-027","dp-028","dp-029","dp-030"],"user":"dp"}
{"id":"dp-s013","date":"2025-12-14","topic":"blocked-by-vs-task-lists","learnings":["blocked_by provides tooling value (--ready filtering) that justifies divergence from GitHub's convention-based approach","Task list integration would create two mechanisms for dependencies - avoided by keeping only blocked_by","GFM checkbox syntax (- [ ]) is rendering/markdown, not tracker integration - separate concern","Protocol fitness isn't about copying GitHub exactly - it's about patterns well-represented in training data","The concept of 'blocked by' is ubiquitous across trackers even though GitHub lacks native support","Deliberate schema extensions are acceptable when tooling benefit is clear and mapping to GitHub remains straightforward"],"open_questions":[],"next_actions":["Research existing local-first issue trackers (issue 028)","Audit issues skill against GitHub Issues semantics (issue 024)"],"issues_worked":["dp-026","dp-030"],"user":"dp"}
{"id":"dp-s014","date":"2025-12-14","topic":"research-and-adr-skill","learnings":["Surveyed 6 local-first issue trackers: git-bug (operations model, git refs), Bugs Everywhere (UUID dirs), ditz (line-based), TicGit (separate branch), Poor Man's Issue Tracker (filesystem), Fossil (SQLite, deliberately not file-based)","git-bug's operations model is conceptually similar to our append-only events - validation of approach","Poor Man's Issue Tracker optimizes for human shell navigation; JSONL optimizes for programmatic/agent access - we chose correctly for AI-native use","No existing Claude Code skill uses local-first append-only approach - we're filling a genuine gap","Existing skills (SpecWeave, Agile Workflow) all integrate with external platforms (GitHub, Linear)","status vs state: we independently chose 'status' (matching beads, JIRA) suggesting broader protocol fitness than GitHub's 'state'","beads uses SQLite+JSONL; our JSONL-only is appropriate for <1000 issues without cache layer complexity","Created ADR skill - decisions don't need tooling (just conventions in markdown), but benefit from skill pattern for portability","Skills can't be configured via standard mechanism - SKILL.md provides methodology, CLAUDE.md provides repo-specific overrides","'Protocol fitness' appears to be a novel term we coined - not found in existing literature","Protocol fitness definition: degree to which format/convention aligns with LLM training data patterns, leading to better AI performance"],"open_questions":["What's the best repo structure for publishing skill bundles?","Should we submit to anthropics/skills, awesome-claude-skills, or standalone repo?","What additional skills would fit the protocol fitness bundle (changelog, glossary, project-context)?"],"next_actions":["Package skills as publishable repo (issue 031)","Consider writing up protocol fitness concept more formally"],"issues_worked":["dp-024","dp-028","dp-029","dp-031"],"user":"dp"}
{"id":"dp-s015","date":"2025-12-14","topic":"issue-housekeeping-and-skill-feedback","learnings":["Check decision docs before working issues - 025 was already resolved in decision 002","Keep single issues_worked field - event types (created/closed/updated) are in events.jsonl, don't denormalize","GitHub Issues sync (023) on hold - ID mapping (local \u2194 GitHub numbers) is main complexity blocker","Labels field added to issues schema - simple optional array, mutable via updated events","Session length sweet spot: one coherent unit of work, not time-based; risk of long sessions is stale accumulated context","Manual JSON construction for issues is friction point - --create and --close helpers would reduce errors and eliminate ID tracking","Claude Code has SessionEnd hook - fires on session close with transcript_path, can use for automated session learnings prompting","sessions.py --issue ID query validates keeping issues_worked simple - can always derive details from events.jsonl"],"open_questions":["Should --create auto-generate ID from max+1 or use UUID-based approach?","SessionEnd hook: auto-extract learnings from transcript or just prompt user?"],"next_actions":["Implement issues.py write helpers (issue 033)","Implement SessionEnd hook for session prompting (issue 034)"],"issues_worked":["dp-015","dp-023","dp-025","dp-032","dp-033","dp-034"],"user":"dp"}
{"id":"dp-s016","date":"2025-12-14","topic":"issues-py-write-commands","learnings":["argparse provides clean CLI with built-in help, short flags (-t, -p, -d), and type validation","next_id from max existing ID + 1 works well - simple zero-padded 3-digit strings","Files may not end with newlines - append functions need to check and add one before appending","Token cost of explicit paths (~40 tokens/call) is acceptable trade-off for zero-setup portability","Auto-installing CLI aliases has no zero-friction solution - direnv, Makefile, shell config all require user action","Compact JSON output (separators=(',',':')) saves tokens in events.jsonl without hurting readability"],"open_questions":["SessionEnd hook: auto-extract learnings from transcript or just prompt user?"],"next_actions":["Implement SessionEnd hook for session prompting (issue 034)"],"issues_worked":["dp-033","dp-035","dp-036"],"user":"dp"}
{"id":"dp-s017","date":"2025-12-14","topic":"sessions-skill-create-command","learnings":["Parity between skills: if one skill has write commands, others should follow the same pattern","argparse action=append provides clean repeatable flags (-l, -q, -a) for list fields","Session creation is simpler than issues - single append, no event log pattern needed"],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s018","date":"2025-12-14","topic":"diagram-and-summary-features","learnings":["Mermaid flowchart syntax works well for dependency visualization - node shapes (rectangle vs stadium) and colors indicate status","ASCII diagrams can show dependency depth by grouping issues by distance from root (no blockers)","argparse nargs='?' with const allows optional argument values (--diagram defaults to mermaid, can specify ascii)","Summary/timeline features are straightforward - group by date, aggregate stats, format as markdown"],"open_questions":[],"next_actions":["Consider publishing skills repo (issue 031)"],"issues_worked":["dp-037","dp-038"],"user":"dp"}
{"id":"dp-s019","date":"2025-12-14","topic":"cleanup-and-show-flag","learnings":["Added --show ID flag to issues.py for viewing single issue details","Removed beads/ directory - repo purpose evolved to publishable skills, keeping analysis subject caused confusion","Trimmed CLAUDE.md from 160 to 80 lines, removing obsolete beads build/architecture docs","Closed issue 027 - branching workflow recommendation already documented in decision 002 Q5"],"open_questions":[],"next_actions":["Continue with issue 031 (package skills as publishable repo) or 034 (SessionEnd hook)"],"issues_worked":["dp-027","dp-039"],"user":"dp"}
{"id":"dp-s020","date":"2025-12-14","topic":"permissions-and-hooks","learnings":["Skills cannot bundle auto-approved permissions; users must add to .claude/settings.json (documented in SKILL.md)","SessionEnd hooks cannot be bundled with skills - require user config or plugin format","Manual session capture via conversation is natural and sufficient, no hook automation needed"],"open_questions":[],"next_actions":["Continue with issue 031 (package skills as publishable repo)"],"issues_worked":["dp-034"],"user":"dp"}
{"id":"dp-s021","date":"2025-12-14","topic":"skill-issues-publishing","learnings":["skill-issues chosen as repo name (plays on slang, fits multiple skills)","Audited sessions.jsonl and events.jsonl - all technical content, safe to publish","Beads attribution added to README - kept simple without overstating what we borrowed","Protocol fitness explained once in README, not repeated - avoids pretentious feel","New repo structure: skills + example data + decisions showing dogfooding"],"open_questions":[],"next_actions":["git init and push to GitHub","Close issue 031 after GitHub push"],"issues_worked":["dp-040","dp-041","dp-042","dp-043","dp-044"],"user":"dp"}
{"id":"dp-s022","date":"2025-12-14","topic":"fix-sessions-create-bug","learnings":["Relative paths in Python scripts break when invoked from different working directories - use Path(__file__).resolve() to anchor paths to script location","Both sessions.py and issues.py had the same bug - always check related code for similar patterns"],"open_questions":[],"next_actions":[],"issues_worked":["dp-046"],"user":"dp"}
{"id":"dp-s023","date":"2025-12-15","topic":"skill-registration","learnings":["Skills require YAML frontmatter with name and description fields for Claude Code to discover them","Skills auto-discover from .claude/skills/ - no installation step needed","Description field is critical - must say what skill does AND when to use it"],"open_questions":["How do paths work for skill scripts - relative to skill dir or project root?","Do docs showing 'python scripts/helper.py' imply working directory changes for skills?"],"next_actions":["Test skills in fresh session to verify they are discovered","Empirically test path resolution by seeing what Claude attempts"],"issues_worked":["dp-047"],"user":"dp"}
{"id":"dp-s024","date":"2025-12-15","topic":"skill-paths-and-conventions","learnings":["Skill(name) tool invocation works - returns base directory context and SKILL.md content","SKILL.md should document relative paths (e.g., python3 sessions.py); Claude constructs full paths using base directory when executing","Permissions sections not needed in SKILL.md - follows Anthropic's official skill patterns; users configure in settings.json separately","Working directory persists across Bash calls - cd commands affect subsequent commands in the session","Official skills use scripts/ subfolder convention, but scripts directly in skill folder also works"],"open_questions":["Should we move scripts to scripts/ subfolder to match Anthropic convention?"],"next_actions":["Test skill invocation in completely fresh session to confirm discovery works end-to-end"],"issues_worked":["dp-047"],"user":"dp"}
{"id":"dp-s025","date":"2025-12-15","topic":"cli-packaging-research","learnings":["Plugins provide slash commands, agents, hooks, MCP servers - but NOT system CLI tools; they're distribution mechanisms, not CLI installers","Aliases and environment variables do NOT persist across Claude Code bash calls - each invocation is isolated","Full paths in bash commands are actually the most token-efficient approach given Claude Code's architecture - no viable middle ground exists","Skill invocation confirmed working end-to-end in fresh session (completing s024 next action)"],"open_questions":[],"next_actions":["Push commit to origin when ready"],"issues_worked":["dp-048"],"user":"dp"}
{"id":"dp-s026","date":"2025-12-15","topic":"diagram-layout-fix","learnings":["Mermaid flowchart TD creates very wide diagrams when most nodes are independent (no dependencies)","Switching to flowchart LR produces tall, vertically-scrollable diagrams which are more usable"],"open_questions":[],"next_actions":["Commit diagram layout changes"],"issues_worked":["dp-031","dp-049"],"user":"dp"}
{"id":"dp-s027","date":"2025-12-15","topic":"block-unblock-commands","learnings":["Post-hoc dependency modification is a reasonable escape hatch when you discover dependencies mid-work","Two explicit commands (--block/--unblock) are cleaner than a single --update that replaces the whole list - no read-modify-write needed"],"open_questions":[],"next_actions":[],"issues_worked":["dp-045"],"user":"dp"}
{"id":"dp-s028","date":"2025-12-15","topic":"readme-usage-examples","learnings":["README should show natural conversation patterns, not CLI commands - users invoke skills by describing what they want","Real outputs from the repo make compelling examples - loosely based on actual data, not fabricated"],"open_questions":[],"next_actions":[],"issues_worked":["dp-050"],"user":"dp"}
{"id":"dp-s029","date":"2025-12-15","topic":"readme-user-experience","learnings":["Users see Claude's interpretation of tool results, not raw JSON - README examples should reflect the actual user experience"],"open_questions":[],"next_actions":[],"issues_worked":["dp-050"],"user":"dp"}
{"id":"dp-s030","date":"2025-12-15","topic":"skill-dependencies","learnings":["Skills should have clear dependency structure: standalone skills shouldn't reference other skills, dependent skills should declare what they use","Issues skill must be fully standalone to work when copied alone to a new repo"],"open_questions":[],"next_actions":[],"issues_worked":["dp-051"],"user":"dp"}
{"id":"dp-s031","date":"2025-12-15","topic":"readme-screenshot","learnings":["Screenshots right after tagline work well - provides immediate visual example without pushing description below fold"],"open_questions":[],"next_actions":["Push changes to remote"],"issues_worked":[],"user":"dp"}
{"id":"dp-s032","date":"2025-12-15","topic":"symlink-installation-docs","learnings":["Symlinks are the standard pattern for using tools under development - similar to npm link or pip install -e","Data directories stay local to each project even with symlinked skills"],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s033","date":"2025-12-15","topic":"symlink-path-resolution","learnings":["Changed PROJECT_ROOT from Path(__file__).resolve() to Path.cwd() so symlinked skills write data to the user's project, not the skill source repo","Added .gitignore with .DS_Store"],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s034","date":"2025-12-15","topic":"issues-skill-bugfixes","learnings":["Silent failures in CLI tools are particularly problematic - should always error loudly or succeed","Natural language assumptions (--open vs --ready) are worth supporting as aliases"],"open_questions":[],"next_actions":[],"issues_worked":["dp-052","dp-053"],"user":"dp"}
{"id":"dp-s035","date":"2025-12-16","topic":"issues-cli-improvements","learnings":["gh issue list uses --state {open|closed|all} - our --ready is a custom extension (open+unblocked)","gh issue view uses positional argument for ID, not a flag - natural CLI pattern","Flag-based approach (--open, --closed, --ready) is cleaner than --state enum when you have custom filters","Silent failures are hard to debug - explicit flush and error handling are cheap insurance"],"open_questions":["Original silent failure in #052 was never reproduced - was it environment-specific or user error?"],"next_actions":["None - all issues resolved"],"issues_worked":["dp-052","dp-053","dp-054","dp-055"],"user":"dp"}
{"id":"dp-s036","date":"2025-12-16","topic":"cli-tui-package-planning","learnings":["Decided on bare CLI commands (issues, sessions) over namespaced (skill issues)","TUI as subcommands: issues board, sessions view","Textual for TUI framework (stays in Python stack)","uv tool install for distribution - isolated env, global CLI","beads_viewer provided UI inspiration: split-view, kanban, vim navigation"],"open_questions":[],"next_actions":["Start Phase 1: #056 (pyproject.toml) and #057 (package structure) in parallel"],"issues_worked":["dp-056","dp-057","dp-058","dp-059","dp-060","dp-061","dp-062","dp-063","dp-064","dp-065","dp-066","dp-067","dp-068","dp-069","dp-070"],"user":"dp"}
{"id":"dp-s037","date":"2025-12-16","topic":"cli-tui-package-phase1","learnings":["uv tool install aggressively caches wheels - need uv cache clean to pick up local changes","Store/CLI separation pattern: store.py for data ops, cli.py imports store and adds argparse","Permissions for installed CLI are cleaner: Bash(issues:*) vs long python3 paths","Phase 1 complete: pyproject.toml, package structure, refactored CLI with store layer"],"open_questions":[],"next_actions":["Phase 2: Implement sessions TUI (sessions view command)","Phase 3: Implement issues TUI (issues board command)"],"issues_worked":["dp-056","dp-057","dp-058","dp-059","dp-060","dp-061"],"user":"dp"}
{"id":"dp-s038","date":"2025-12-16","topic":"cli-tui-package-phase2","learnings":["Sessions TUI implemented with Textual: split-view layout, vim navigation (j/k/g/G), search filter (/)","Switched to CLI-only support - removed raw .py scripts from skills directories","SKILL.md files now reference installed CLI commands, serve as skill registration for Claude Code","uv tool install is required, copy-based installation deprecated"],"open_questions":[],"next_actions":[],"issues_worked":["dp-062","dp-063"],"user":"dp"}
{"id":"dp-s039","date":"2025-12-16","topic":"cli-tui-package-phase3","learnings":["Issues board TUI implemented with Kanban columns (Ready/Blocked/Closed), vim navigation (h/l/j/k/g/G), priority badges, and details panel","Details pane was naturally included in board design - issue 065 closed as already implemented","README restructured with clear 3-step quickstart: install CLI, register skills, add permissions"],"open_questions":[],"next_actions":[],"issues_worked":["dp-064","dp-065","dp-067","dp-068","dp-071"],"user":"dp"}
{"id":"dp-s040","date":"2025-12-16","topic":"Keybinding help and blocked_by rename","learnings":[],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s041","date":"2025-12-16","topic":"Keybinding help and blocked_by rename","learnings":["Textual Footer widget automatically displays Bindings with show=True - remove show=False to make keys visible","Field naming matters for semantics: blocked_by implies active blocking, depends_on describes the relationship","Backwards-compatible field renames: read both old and new names, write only the new name"],"open_questions":[],"next_actions":[],"issues_worked":["dp-072","dp-073"],"user":"dp"}
{"id":"dp-s042","date":"2025-12-16","topic":"Issues board focus fix","learnings":["Textual ScrollableContainer widgets are focusable by default - can trap focus and prevent app-level keybindings","Fix focus issues in Textual by subclassing with can_focus=False class attribute","Textual mount() is async - brief visual glitch after refresh is acceptable vs added complexity"],"open_questions":[],"next_actions":[],"issues_worked":["dp-074"],"user":"dp"}
{"id":"dp-s043","date":"2025-12-16","topic":"Installation simplification and sessions amend","learnings":["Sessions --amend allows adding to last session (or specific ID) without rewrite-history concerns","init.sh replaced by CLI init subcommands - issues init --all installs everything","Editable installs use symlinks (git pull updates all), wheel installs copy files","Per-skill init commands allow pick-and-choose installation","Detection of editable vs wheel install via presence of repo's .claude/skills directory"],"open_questions":[],"next_actions":[],"issues_worked":["dp-075","dp-076","dp-077","dp-078"],"user":"dp"}
{"id":"dp-s044","date":"2025-12-16","topic":"cli-tui-polish","learnings":["Renamed sessions view to sessions board for consistency with issues board","README stats need updating as project grows - was 46 issues/22 sessions, now 78/43","ADR count was also stale (3 vs 6) - easy to forget meta-documentation"],"open_questions":[],"next_actions":[],"issues_worked":["dp-066","dp-069","dp-070","dp-071"],"user":"dp"}
{"id":"dp-s045","date":"2025-12-16","topic":"Reserved PyPI project name","learnings":["Hatchling force-include requires source files to also be in sdist include list","PyPI name reservation just requires uploading any valid package version"],"open_questions":[],"next_actions":[],"issues_worked":["dp-070"],"user":"dp"}
{"id":"dp-s046","date":"2025-12-16","topic":"Implemented issue #071: multiple issue IDs","learnings":["argparse subparsers conflict with nargs='*' positional args - subparser gets priority for first positional","Solution: pre-parse sys.argv to detect issue IDs before adding subparsers to the parser","Keep backward compatibility by returning single object for single ID, array for multiple IDs"],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s047","date":"2025-12-18","topic":"CLI consistency and update flag","learnings":["CLI had inconsistent pattern: 'issues board' was a subcommand but 'issues --note' was a flag - this confused Claude into trying 'issues note'","Added subcommand aliases for all write operations (create, close, note, add-dep, remove-dep) alongside existing flags for backward compatibility","Added --update flag to 'issues init' and 'sessions init' to overwrite SKILL.md files when upgrading"],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s048","date":"2025-12-18","topic":"Editable install for development","learnings":["uv tool install -e . provides editable global installs - code changes reflect immediately without reinstalling"],"open_questions":[],"next_actions":[],"issues_worked":[],"user":"dp"}
{"id":"dp-s049","date":"2025-12-19","topic":"multi-user-workflow-design","learnings":["User prefix via git config is cleanest - no project config files, uses existing infrastructure with global/local override","ID format dp-001 (with hyphen) provides consistency across sessions (dp-s001) and issues, improves readability","ADR draft naming (draft-slug.md \u2192 NNN-slug.md) avoids numbering conflicts; slug preservation makes references searchable without rewriting","Sessions are personal (filter by user), issues are shared (no filtering) - different defaults match different use cases","Blank prefix should not be allowed - clean migration of ~3 repos is better than ongoing parsing ambiguity"],"open_questions":["How will migration of existing repos actually work in practice? Need to test the JSONL editing"],"next_actions":["Implement get_user_prefix() foundation (issue 080) as first step"],"issues_worked":["dp-080","dp-081","dp-082","dp-083","dp-084","dp-085","dp-086","dp-087","dp-088"],"user":"dp"}
{"id":"dp-s050","user":"dp","date":"2025-12-19","topic":"multi-user-id-foundation","learnings":["get_user_prefix() uses fallback chain: env var -> git config -> derived from user.name -> 'xx'","Session IDs now dp-s001 format with user field; parse_session_id() handles both old/new formats","Issue IDs now dp-001 format; parse_issue_id() handles both old/new formats","filter_by_user() enables per-user session filtering for upcoming --all flag","63 tests covering user prefix, session IDs, and issue IDs","Migration script handles single-user (--prefix) and multi-user (--author-map with git blame) modes","Migrated 50 sessions and 88 issues in skill-issues repo - answered open question about migration process"],"open_questions":["How will migration of existing repos actually work in practice? Need to test the JSONL editing"],"next_actions":["Implement --all flag for cross-user session viewing (issue 082)","Add first-run prefix derivation hint (issue 088)"],"issues_worked":["dp-080","dp-081","dp-084"]}
{"id":"dp-s051","user":"dp","date":"2025-12-19","topic":"sessions-user-flag","learnings":["Implemented --user flag for sessions CLI with orthogonal design: query type (--all, --last N, --issue, --topic) vs user scope (--user)","API mirrors GitHub CLI patterns (--author) for discoverability by humans and Claude agents","Default filters to current user; --user all shows everyone; --user xy filters to specific user","Updated ADR 007 with resolved question documenting the design rationale"],"open_questions":[],"next_actions":[],"issues_worked":["dp-082"]}
{"id":"dp-s052","user":"dp","date":"2025-12-19","topic":"adr-007-implementation","learnings":["Implemented adr create/accept commands for draft ADR workflow - drafts start as draft-slug.md, accept assigns number and updates status","Added user filtering to sessions board TUI using Static widget instead of Tabs (Tabs widget caused rendering issues with ListView)","First-run prefix derivation hint shows once per project when prefix is derived from user.name","Updated all SKILL.md files with multi-user ID formats and --user flag documentation","Textual Tabs widget conflicts with ListView rendering - using simple Static with h/l key navigation as workaround"],"open_questions":[],"next_actions":[],"issues_worked":["dp-083","dp-085","dp-086","dp-087","dp-088"]}
{"id":"dp-s053","user":"dp","date":"2025-12-19","topic":"adr-007-finalization","learnings":["Fixed CLI parsing bug: looks_like_issue_id() now recognizes both legacy (001) and multi-user (dp-001) ID formats for positional argument handling","Migration script with --author-map uses git blame for per-user attribution; each user gets their own ID sequence starting at 001","Added migration scripts (migrate-to-multi-user.py, MIGRATION.md) documenting single-user and multi-user migration workflows"],"open_questions":[],"next_actions":[],"issues_worked":[]}
{"id":"dp-s054","user":"dp","date":"2025-12-19","topic":"CLI and TUI polish fixes","learnings":["Textual ListView requires clear() not remove_children() when dynamically rebuilding - clear() properly resets internal state","After rebuilding ListView, must use call_after_refresh() to defer index/selection - setting index immediately doesn't work","To force ListView highlight update: reset index to None, set to 0, then call action_select_cursor()","Fixed height CSS (height: 1) on ListItem prevents text wrapping to multiple lines"],"open_questions":[],"next_actions":[],"issues_worked":["dp-089","dp-090"]}
